repos:
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v5.0.0
    hooks:
      - id: trailing-whitespace
        stages: [pre-commit]
        args: [--markdown-linebreak-ext=md]
      - id: end-of-file-fixer
        stages: [pre-commit]
      - id: check-yaml
        stages: [pre-commit]
        types: [yaml]
      - id: check-added-large-files
        stages: [pre-commit]
  - repo: https://github.com/DavidAnson/markdownlint-cli2
    rev: v0.14.0
    hooks:
      - id: markdownlint-cli2
        args: [--config, .markdownlint.yml, --fix, "*.md","docs/*.md", "docs/**/*.md", "packages/changelogs/*.md"]
        stages: [pre-commit]
        types: [markdown]
  - repo: https://github.com/crate-ci/typos
    rev: v1.27.0
    hooks:
      - id: typos
        stages: [pre-commit]
        args:
          - '--ignore'
          - .gitignore
          - '--ignore'
          - .pre-commit-config.yaml
          - '--ignore'
          - .markdownlint.yml
        exclude: |
          (?x)^(
            node_modules/|
            packages/.*?/node_modules|
            external/|
            eslint.config.mjs)
        types_or: [text]
  - repo: https://github.com/koalaman/shellcheck-precommit
    rev: v0.7.2
    hooks:
      - id: shellcheck
        stages: [pre-commit]
        args: ["--severity=warning", "--external-sources"]
        types: [shell]
  - repo: https://github.com/astral-sh/ruff-pre-commit
    rev: v0.7.2
    hooks:
      - id: ruff
        args: ["--fix"]
        stages: [pre-commit]
        types: [python]
      - id: ruff-format
        stages: [pre-commit]
        types: [python]
  - repo: https://github.com/alessandrojcm/commitlint-pre-commit-hook
    rev: <latest tag>
    hooks:
      - id: commitlint
        stages: [commit-msg]
        args: [--config, commitlint.config.ts]
# A local hook must define id, name, language, entry, and files / types as specified under Creating new hooks.
  - id: build
    name: Build
    language: system
    entry: bun run -b build
    files: src/**/*.ts
    types: [ts]
    stages: [pre-commit]
  - id: stylelint
    name: Stylelint
    language: system
    files: src/**/*.css
    types: [css]
    entry: bun run -b stylelint --fix
    stages: [pre-commit]
  - id: eslint
    name: ESLint
    language: system
    types: [ts, javascript]
    exclude: |
      (?x)^(
        node_modules/|
        packages/.*?/node_modules|
        .vscode/|
        external/|
        docs/)
    entry: bun run -b eslint --fix
    stages: [pre-commit]
  - id: prettier
    name: Prettier
    language: system
    types: [json, yaml, toml]
    exclude: |
      (?x)^(
        node_modules/|
        packages/.*?/node_modules|
        external/)
    entry: bun run -b prettier --write
    stages: [pre-commit]
  - id: commitizen
    name: Commitizen
    language: system
    exclude: |
      (?x)^(
        node_modules/|
        packages/.*?/node_modules|
        external/)
    entry: bun run -b git-cz
    stages: [prepare-commit-msg]
    type: [file]
    always_run: true
